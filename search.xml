<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>博客搭建——Hexo</title>
    <url>/2021/05/07/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E2%80%94hexo/</url>
    <content><![CDATA[<h1 id="前置"><a href="#前置" class="headerlink" title="前置"></a>前置</h1><ol>
<li><p>安装Node.js</p>
<p>首先需要在本地安装Node.js，可以去<a href="https://nodejs.org/zh-cn/">官网</a>下载，安装好之后会有Node.js和npm包管理器。可以使用<code>node -v</code>和<code>npm -v</code>验证安装。</p>
<p>使用npm指向淘宝源安装cnpm，以加快包安装速度。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="2">
<li><p>安装hexo</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>可以使用<code>hexo -v</code>验证安装</p>
</li>
</ol>
<h1 id="搭建博客"><a href="#搭建博客" class="headerlink" title="搭建博客"></a>搭建博客</h1><ol>
<li><p>初始化博客</p>
<p>新建一个目录作为站点，在该目录下初始化。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></li>
<li><p>启动博客</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>本地访问地址：<a href="http://localhost:4000/">http://localhost:4000/</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/hexo.jpg"></p>
</li>
<li><p>新建博文</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo n &quot;第一篇博客文章&quot;</span><br></pre></td></tr></table></figure>

<p>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure>

<p>生成静态文件。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>启动查看。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210507194715.png"></p>
</li>
</ol>
<h1 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h1><ol>
<li><p>在GitHub新建一个仓库，仓库名为 <code>用户名.github.io</code>（也是部署成果后的访问地址）</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210507201500.png"></p>
</li>
<li><p>安装git插件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li>
<li><p>配置站点 <code>_config.yml</code>文件的 <code>deploy </code>参数，repo使用https或ssh均可</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  	<span class="attr">type:</span> <span class="string">git</span></span><br><span class="line"> 	<span class="attr">repo:</span> <span class="string">https://github.com/YourGithubName(自行替换)/YourGithubName(自行替换).github.io.git</span></span><br><span class="line"> 	<span class="comment"># repo: git@github.com:YourGithubName(自行替换)/YourGithubName(自行替换).github.io.git</span></span><br><span class="line">  	<span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure></li>
<li><p>部署到Github仓库（使用https第一次推送需要输入账号密码）</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li>
<li><p>访问博客</p>
<p>访问<a href="https://yourgithubname.github.io/%EF%BC%88%E8%87%AA%E8%A1%8C%E6%9B%BF%E6%8D%A2%EF%BC%89%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%E5%8D%9A%E5%AE%A2%E3%80%82">https://YourGithubName.github.io/（自行替换）可以查看博客。</a></p>
<p>这里的访问地址是<a href="http://xiaocaixiang.github.io/%E3%80%82">http://xiaocaixiang.github.io/。</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210507202000.png"></p>
</li>
</ol>
<h1 id="更改主题"><a href="#更改主题" class="headerlink" title="更改主题"></a>更改主题</h1><ol>
<li><p>下载主题到本地 <code>themes</code>文件夹，这里的主题使用<a href="http://theme-next.iissnan.com/">Next</a>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;iissnan&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure></li>
<li><p>启用主题</p>
<p>修改站点 <code>_config.yml </code>文件的<code>theme</code>项。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure></li>
<li><p>清理、生成、部署后访问博客</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210507202848.png"></p>
</li>
</ol>
<h1 id="搭建图床（Github-PicGo-jsDelivr-CDN）"><a href="#搭建图床（Github-PicGo-jsDelivr-CDN）" class="headerlink" title="搭建图床（Github+PicGo+jsDelivr CDN）"></a>搭建图床（Github+PicGo+jsDelivr CDN）</h1><ol>
<li><p>在GitHub新建一个public仓库</p>
</li>
<li><p>在个人页选择开发者设置</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/setting.jpg"></p>
</li>
<li><p>新建个人密钥</p>
<p>名称随意，勾选repo后新建。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/generate2.jpg"></p>
<p>成功新建后复制tokens</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210507211444.png"></p>
</li>
<li><p>设置图床</p>
<p>下载并打开<a href="https://github.com/Molunerfinn/PicGo">PicGO</a>。</p>
<p>设置GitHub图床，填写仓库名、分支名、token。</p>
<p>设置自定义域名以实现访问加速，使用<strong><a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D">https://cdn.jsdelivr.net/gh/用户名/仓库名</a></strong>实现jsDelivrCDN访问加速。</p>
<p>确定后即可上传图片使用图床。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210507204410.png"></p>
</li>
</ol>
<h1 id="Next主题美化"><a href="#Next主题美化" class="headerlink" title="Next主题美化"></a>Next主题美化</h1><ol>
<li><p>增加标签页和分类页</p>
<p>修改<code>themes\next</code>文件夹下的<code>_config.yml</code>文件，设置<strong>menu</strong>项。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).</span></span><br><span class="line"><span class="comment"># Usage: `Key: /link/ || icon`</span></span><br><span class="line"><span class="comment"># Key is the name of menu item. If translate for this menu will find in languages - this translate will be loaded; if not - Key name will be used. Key is case-senstive.</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target link.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, question icon will be loaded.</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/||</span> <span class="string">home</span></span><br><span class="line">  <span class="comment">#about: /about/|| user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/||</span> <span class="string">tags</span>  <span class="comment"># 打开标签</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/||</span> <span class="string">th</span>  <span class="comment"># 打开分类</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/|| calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml|| sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/|| heartbeat</span></span><br></pre></td></tr></table></figure>

<p>新建<strong>tags</strong>和<strong>categories</strong>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo n page tags</span><br><span class="line">hexo n page categories</span><br></pre></td></tr></table></figure>

<p>修改<strong>source\categories\index.md文件。</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2021-05-05 23:41:09</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>修改<strong>source\tags\index.md文件。</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2021-05-05 23:41:09</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>头像设置</p>
<p>修改<code>themes\next</code>文件夹下的<code>_config.yml</code>文件，设置<strong>avatar</strong>以更改头像。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="comment"># in theme directory(source/images): /images/avatar.gif</span></span><br><span class="line"><span class="comment"># in site  directory(source/uploads): /uploads/avatar.gif</span></span><br><span class="line"><span class="comment">#avatar: /images/avatar.gif</span></span><br><span class="line"><span class="attr">avatar:</span> <span class="string">/images/xiaocaixiang.jpg</span></span><br></pre></td></tr></table></figure>

<p>修改<code>themes\next\source\css\_common\components\sidebar</code>文件夹的<code>sidebar-author.styl</code>文件中添加</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在**.site-author-image**中添加，实现头像圆形并可以在鼠标移过时旋转。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">transition</span>: <span class="number">1s</span> all;</span><br></pre></td></tr></table></figure></li>
<li><p>增加搜索功能</p>
<p>在博客目录下执行,安装 <code>hexo-generator-searchdb</code>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>编辑站点 <code>_config.yml</code>文件，新增以下内容到任意位置：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<p>编辑站点 <code>_config.yml</code>文件，启用本地搜索功能：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
<li><p>增加不蒜子功能</p>
<p>编辑站点 <code>_config.yml</code>文件中的<code>busuanzi_count</code>的配置项。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Show PV/UV of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi/</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_uv_header:</span> <span class="string">本站访问数</span></span><br><span class="line">  <span class="attr">site_uv_footer:</span> <span class="string">人次</span></span><br><span class="line">  <span class="comment"># custom pv span for the whole site</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv_header:</span> <span class="string">本站总访问量</span></span><br><span class="line">  <span class="attr">site_pv_footer:</span> <span class="string">次</span></span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv_header:</span> <span class="string">本文总阅读量</span></span><br><span class="line">  <span class="attr">page_pv_footer:</span> <span class="string">次</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>增加每日一言</p>
<p>在<code>themes\next\layout\_partials</code>目录的<code>header.swig</code>文件中添加:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;hitokoto&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">b</span> <span class="attr">id</span>=<span class="string">&quot;hitokoto_text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">b</span>&gt;</span>——<span class="tag">&lt;<span class="name">b</span> <span class="attr">id</span>=<span class="string">&quot;from&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  fetch(<span class="string">&#x27;https://v1.hitokoto.cn?c=a&amp;c=b&amp;c=c&amp;c=d&amp;c=h&amp;c=l&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span></span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> hitokoto = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;hitokoto_text&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      hitokoto.href = <span class="string">&#x27;https://hitokoto.cn/?uuid=&#x27;</span> + data.uuid</span></span><br><span class="line">      hitokoto.innerText = data.hitokoto</span><br><span class="line"><span class="javascript">	  <span class="keyword">const</span> <span class="keyword">from</span> = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;from&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">from</span>.innerText = data.from</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    .catch(<span class="built_in">console</span>.error)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>除了上述提到外，还做了一些零散修改，不再赘述，效果如<a href="https://xiaocaixiang.github.io/">本博客</a>所见</p>
</li>
</ol>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li><p><a href="https://www.bilibili.com/video/BV1Yb411a7ty?from=search&seid=964351852428769920">手把手教你从0开始搭建自己的个人博客 |无坑版视频教程| hexo</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1JA411h7Gw?from=search&seid=5758126091989239952">8分钟让你快速掌握Markdown</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV16W411t7mq?p=1">[馨客栈分享]使用Hexo博客搭建的个人博客，使用Next主题来进行优化改造</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1Ui4y1x7Cq?p=2&spm_id_from=pageDriver">PicGo+Github图床的正确打开方式</a></p>
</li>
<li><p><a href="https://blog.zqxin.top/">Xin’s Blog</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>PicGO</tag>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title>Test</title>
    <url>/2021/05/12/%E7%AD%94%E8%BE%A9/</url>
    <content><![CDATA[<h1 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h1><p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512122758.png"></p>
<p>​            项目运行成功后打开系统网页<a href="http://127.0.0.1:8000/index/index.html">http://127.0.0.1:8000/index/index.html</a></p>
<h1 id="进入页面"><a href="#进入页面" class="headerlink" title="进入页面"></a>进入页面</h1><ol>
<li><p>首先看到的是首页</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512123037.png"></p>
<p>首页对系统做了简介、介绍了功能、与系统使用方法</p>
</li>
<li><p>接着点击诗词分析</p>
<p>诗词分析有基于字的分析和基于词的分析两部分</p>
<ul>
<li> 首先看基于字的分析</li>
</ul>
<p>这部分分析了诗词的常用字、颜色、动植物排名，分别绘制柱状图、折线图和饼图进行可视化展示。其中柱状图配置了区域缩放，可以拖动滑块查看。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512123231.png"></p>
<ul>
<li>随后看基于词的分析部分</li>
</ul>
<p>这部分分析了诗词的词云图；常用时间、地点、场景排名的时间线图，以及关联词查询功能</p>
<p>关联词查询功能可以自行输入一个词以查看与其最相近的前10个字/词</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512123718.png"></p>
</li>
<li><p>最后是小说分析功能</p>
<p>此部分有三块，但首先需要新建分析。</p>
<p>点击两个<strong>Choose file</strong>，分别传入需要分析的小说文本以及小说的人物名称名词典，随后点击提交，即可对提交的小说进行分析，这个过程需要10-30分钟。</p>
<p>如果不上传文件就查看人物关系和情感分析，则会保留上一次的分析内容。默认有一个分析，分析内容是《红楼梦》。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512124837.png"></p>
</li>
</ol>
<p>待新建分析完成就可以查看小说的人物关系和情感分析了</p>
<p>人物关系图，人物点越大代表其中小说中权重越高，一般是指主角，人物连线越多代表与其有关联的人越多，一般指推动情节发展的关键人物。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512125324.png"></p>
<p>情感分析，绘制了章节总体情感表现、与章节情感波动情况，是带有区域缩放功能的折线图，可以自由拖放滑块以查看不同章节的情感分析。</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiaocaixiang/image/img/20210512125355.png"></p>
]]></content>
  </entry>
</search>
